AMANDA_FLAGS__            =-O3 -Wall -Wfatal-errors -Werror
FELINE_FLAGS__            =-Wno-unused-function     -I .
JULIET_FLAGS              =
ALINE_SIZE                =                          62
LICAO_DE_VIDA_DO_MEU_AMOR = @espaco_arp.exe
amandaricardo_valquiria: bucaneiro	
..\..\interface2.dll: mv_from_be.h               \
	.\morcego_libav\libav_interface_new\libav.c  \
	.\morcego_libav\libav_interface_new\amandaricardo_koci_dprintf.c \
	.\morcego_libav\libav_interface_new\makefile \
	.\morcego_libav\be_constants.h               \
	.\morcego_libav\libav_interface_new\libav_video.c \
	.\morcego_libav\libav_interface_new\playlist.c \
	.\morcego_libav\libav_interface_new\interface2.def

	@rm espaco_arp.exe

	@make amandaricardo_valquiria -C             \
	.\morcego_libav\libav_interface_new
allpass.o: allpass.cpp mv_from_be.h
	x86_64-w64-mingw32-g++.exe -c -o allpass.o   \
	allpass.cpp                                  \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

analisys.o: analisys.c                           \
	.\morcego_libav\be_constants.h               \
	mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o analisys.o  \
	analisys.c                                   \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

audio.o: audio.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o audio.o     \
	audio.c                                      \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

bucaneiro: ..\..\interface2.dll mv_from_be.h     \
	interface1.def decoder.o audio.o revmodel.o  \
	freeverb_plugin_2.o unicode_large.o rspini.o \
	mp3wav.o id3.o fourier.o filebuffer.o        \
	dprintf.o                                    \
	amanda_s_smart_ape___folder.o iir.o          \
	gain_analysis.o analisys.o                   \
	normalization.o dsp.o rc4.o                  \
	freeverb_plugin.o allpass.o comb.o           \
	freeverb_plugin_2.o revmodel.o pedro_64.o    \
	amanda_s_smart_ape_sha512_k.o                \
	morcego_interface.o soundtouch_arp.a

	@./amandaricardo_mvbuild26_33.exe            \
	amanda_file_counter_32.ini                   \
	versio_n.ama.rc                              \
	version_ricardo_mislaine_final_2_.rc         \
	aline_definitive_header_2_.h                 \
	"64 bits"                                    \
	rspmp3ocx1.dll                               \
	increase                                     \
	'2021'                                       \
	'./sqlite_by_smart_ape/new icon july_i.ico'

	@x86_64-w64-mingw32-windres.exe -o ver.o -O  \
	coff version_ricardo_mislaine_final_2_.rc

	@x86_64-w64-mingw32-gcc.exe -c -o            \
	version_morcego.o version_morcego.c          \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

	x86_64-w64-mingw32-g++.exe -mdll             \
	                                             \
	                                             \
	ricardo.c                                    \
	-o                                           \
	                                             \
	                                             \
	rspmp3ocx1.dll                               \
	                                             \
	                                             \
	interface1.def                               \
	ver.o                                        \
	decoder.o revmodel.o freeverb_plugin_2.o     \
	comb.o allpass.o freeverb_plugin.o dprintf.o \
	rc4.o dsp.o normalization.o analisys.o       \
	gain_analysis.o iir.o                        \
	amanda_s_smart_ape___folder.o pedro_64.o     \
	filebuffer.o fourier.o id3.o mp3wav.o        \
	rspini.o unicode_large.o                     \
	audio.o version_morcego.o                    \
	morcego_interface.o                          \
	amanda_s_smart_ape_sha512_k.o                \
	                                             \
	-lwinmm -lwininet                            \
	                                             \
	soundtouch_arp.a                              \
	..\..\interface2.dll ..\..\AMANDA_27.DLL       \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__) -lpsapi -static

#	-static-libstdc++ -static-libgcc             \ will keep it here for historical reasons...

	cp rspmp3ocx1.dll ../../rspmp3ocx1.dll

	@echo Amanda says that it is compiled....
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) "ricardo"
clean:
	-rm *.???~
	-rm *.unc-backup~
clean_k_p: clean_k_p_pass_1 bucaneiro
clean_k_p_pass_1:
	touch .\morcego_libav\libav_interface_new\libav.c
	touch .\morcego_libav\libav_interface_new\libav_video.c
	-rm *.o
	-rm *.a
comb.o: comb.cpp mv_from_be.h
	x86_64-w64-mingw32-g++.exe -c -o             \
	comb.o comb.cpp                              \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

copy:
	make copy -C "C:\aocprojeto\mp3 dll\ACME_mp3_dll_192_build_2072\bucaneiro\win32\mp3dll\mp3dll\bin\x86\Release"
csharp:
#																		??? porque isto ainda tá aqui amanda?
	@make -C "C:\aocprojeto\mp3 dll\ACME_mp3_dll_192_build_2072\bucaneiro\win32\mp3dll\mp3dll"
decoder.o: decoder.c win64.h player.c decoder.h      \
	.\morcego_libav\be_constants.h mv_from_be.h  \
	be_xml.c
	x86_64-w64-mingw32-gcc.exe -D__BUCANEIRO__   \
	-c -o decoder.o decoder.c                    \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__) -DPSAPI_VERSION=1
	@$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	@$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

	cp decoder.c 'C:/Ava/documentation_kp/rsppmp3_doc_8.9.9/'
	cp  player.c 'C:/Ava/documentation_kp/rsppmp3_doc_8.9.9/'

dprintf.o: dprintf.c makefile mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o dprintf.o   \
	dprintf.c                                    \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	@$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	@$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

dsp.o: dsp.c mv_from_be.h mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o dsp.o       \
	dsp.c                                        \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51
filebuffer.o: filebuffer.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o             \
	filebuffer.o filebuffer.c                    \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

amanda_s_smart_ape___folder.o:                   \
	amanda_s_smart_ape___folder.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o             \
	amanda_s_smart_ape___folder.o                \
	amanda_s_smart_ape___folder.c                \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

fourier.o: fourier.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o fourier.o   \
	fourier.c                                    \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

freeverb_plugin.o: freeverb_plugin.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o             \
	freeverb_plugin.o freeverb_plugin.c          \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

freeverb_plugin_2.o: freeverb_plugin_2.cpp       \
	mv_from_be.h denormals.h comb.h              \
	allpass.h
	x86_64-w64-mingw32-g++.exe -c -o             \
	freeverb_plugin_2.o freeverb_plugin_2.cpp    \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

gain_analysis.o: gain_analysis.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o             \
	gain_analysis.o gain_analysis.c              \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

id_new_libav:
	make id -C .\morcego_libav\libav_interface_new
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

id_libav:
	make id -C .\morcego_libav
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

id: id_libav id_new_libav
#	uncrustify from uncrustify.sf.net se você se esquecer de onde é
	unc decoder.c
	unc player.c
	unc normalization.c
	unc mv_from_be.h
	unc analisys.c	
id3.o: id3.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o id3.o       \
	id3.c                                        \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51
 
iir.o: iir.c mv_from_be.h spectrum60.c
	x86_64-w64-mingw32-gcc.exe -c -o iir.o       \
	iir.c                                        \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

#x86_64-w64-mingw32-gcc.exe -S -masm=intel $(AMANDA_FLAGS_) -o iir_sse.S iir.c
morcego_interface.o: mv_from_be.h                \
	.\morcego_libav\morcego_interface.c          \
	.\morcego_libav\be_constants.h
	@make amandaricardo_valquiria -C             \
	.\morcego_libav	
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

mp3wav.o: mp3wav.c                               \
	.\morcego_libav\be_constants.h mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o mp3wav.o    \
	mp3wav.c                                     \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

normalization.o: normalization.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o             \
	normalization.o normalization.c              \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

pedro_64.o: pedro.c
	x86_64-w64-mingw32-gcC -c -o pedro_64.o   \
	pedro.c                                    \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)           \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

revmodel.o: revmodel.cpp mv_from_be.h
	x86_64-w64-mingw32-g++.exe -c -o revmodel.o  \
	revmodel.cpp                                 \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

rc4.o: rc4.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o rc4.o       \
	rc4.c                                        \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

reg:
	cl /MT /Ox register.c \
	crc32.c
	del crc32.obj
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

amanda_s_smart_ape_sha512_k.o:                   \
	amanda_s_smart_ape_sha512_k.c                \
	mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o             \
	amanda_s_smart_ape_sha512_k.o                \
	amanda_s_smart_ape_sha512_k.c                \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

rspini.o: rspini.c e_malloc.c                    \
	mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o rspini.o    \
	rspini.c                                     \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

soundtouch_arp.a: 	.\touch\SoundTouch.cpp       \
	.\touch\TDStretch.cpp                        \
	.\touch\RateTransposer.cpp                   \
	.\touch\FIRFilter.cpp                        \
	.\touch\FIFOSampleBuffer.cpp                 \
	.\touch\AAFilter.cpp                         \
	.\touch\cpu_detect_x86_win.cpp               \
	.\touch\PeakFinder.cpp                       \
	.\touch\BPMDetect.cpp                        \
	.\touch\WavFile.cpp                          \
	.\touch\RunParameters.cpp                    \
	.\touch\interface.cpp
	@make amandaricardo_valquiria -C .\touch
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

unicode_large.o: unicode_large.c mv_from_be.h
	x86_64-w64-mingw32-gcc.exe -c -o             \
	unicode_large.o unicode_large.c              \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51

#percebeu? sim amor da minha vidaa...
delay:
	 make -C "C:\BACK\mp3 dll velho\bucaneiro\win32\mp3dll\mp3dll\bin\x86\Release\src\c_project"
	 $(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	 $(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51
aline_clean:
	-rm *.o
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51
	echo pronto mister...

smartape:

	x86_64-w64-mingw32-gcc.exe  -o               \
	amandaricardo_mvbuild26_33.exe               \
	smartape.c                                   \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__) -DAMANDA_S_SMART_APE_ENABLE_WIDE_FUNCTION_
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	@./espaco_arp.exe $(ALINE_SIZE) 0 51

	@./amandaricardo_mvbuild26_33.exe            \
	amanda_s_smart_ape__counter.ini              \
	AssemblyInfo.smartape                        \
	AssemblyInfo.cs                              \
	AssemblyInfo.hh                              \
	"1024 bits"                                  \
	AssemblyInfo.viu.cs increase

	cp AssemblyInfo.cs ../../../../Properties/AssemblyInfo.cs

smartape_v27:

	x86_64-w64-mingw32-gcc.exe  -o               \
	amandaricardo_mvbuild26_33.exe               \
	smartape.c                                   \
	$(AMANDA_FLAGS__) $(JULIET_FLAGS)            \
	$(FELINE_FLAGS__) -DAMANDA_S_SMART_APE_ENABLE_WIDE_FUNCTION_
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE)
	$(LICAO_DE_VIDA_DO_MEU_AMOR) $(ALINE_SIZE) 0 51
